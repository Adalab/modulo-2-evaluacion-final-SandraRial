"use strict";let listCocktails=[],favorites=[];const cocktails=document.querySelector(".js-list"),favCocktails=document.querySelector(".js-favorit-list"),input=document.querySelector(".js-input"),btn=document.querySelector(".js-button"),resetBtn=document.querySelector(".js-reset"),resetFavBtn=document.querySelector(".js-reset-fav");function reset(){listCocktails=[],input.value="",paintCocktails(listCocktails)}function resetFavourites(){favorites=[],localStorage.setItem("favCocktails",JSON.stringify(favorites)),paintFavoritesCocktail(favorites)}function refresh(){let t=document.querySelectorAll(".js-li");for(const i of t)i.addEventListener("click",handleClickdrinks)}function paintCocktails(t){let i="";for(const e of t){let t="";t=-1!==favorites.findIndex(t=>t.idDrink===e.idDrink)?"cocktail-favorite":"",i+=`<li class="js-li all_list ${t}" id="${e.idDrink}">`,i+=`<h3>${e.strDrink}</h3>`,null===e.strDrinkThumb||void 0===e.strDrinkThumb?i+='<img class="img-small" src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV"/>':i+=`<img class="img-small" src="${e.strDrinkThumb}"/>`,i+="</li>"}cocktails.innerHTML=i,refresh()}function paintFavoritesCocktail(t){let i="";for(const e of t){i+=`<li class="js-li fav_list ${""} " id="${e.idDrink}">`,i+=`<h3>${e.strDrink}</h3>`,void 0===e.strDrinkThumb?i+='<img class="img-small" src="https://via.placeholder.com/210x295/ffffff/666666/?text=TV"/>':i+=`<img class="img-small" src="${e.strDrinkThumb}"/>`,i+="</li>"}favCocktails.innerHTML=i,refresh()}function handleClickdrinks(t){const i=t.currentTarget.id,e=listCocktails.find(t=>t.idDrink===i),s=favorites.findIndex(t=>t.idDrink===i);-1===s?favorites.push(e):favorites.splice(s,1),localStorage.setItem("favCocktails",JSON.stringify(favorites)),paintFavoritesCocktail(favorites),paintCocktails(listCocktails)}function getCocktails(t){t.preventDefault(),""===input.value?reset():fetch("https://www.thecocktaildb.com/api/json/v1/1/search.php?s="+input.value).then(t=>t.json()).then(t=>{listCocktails=t.drinks,paintCocktails(listCocktails)}),paintFavoritesCocktail(favorites)}null!==localStorage.getItem("favCocktails")&&(favorites=JSON.parse(localStorage.getItem("favCocktails")),paintFavoritesCocktail(favorites)),btn.addEventListener("click",getCocktails),resetBtn.addEventListener("click",reset),resetFavBtn.addEventListener("click",resetFavourites);